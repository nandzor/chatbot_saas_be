# RabbitMQ Configuration

# Networking
listeners.tcp.default = 5672
management.tcp.port = 15672

# Memory and disk
vm_memory_high_watermark.relative = 0.4
disk_free_limit.absolute = 1GB

# Logging
log.console = true
log.console.level = info
log.file = /var/log/rabbitmq/rabbit.log
log.file.level = info

# Default user
default_user = admin
default_pass = password
default_vhost = /
default_user_tags.administrator = true

# Queue settings
queue_master_locator = min-masters

# Management plugin
management.load_definitions = /etc/rabbitmq/definitions.json

# SSL (disabled for development)
# ssl_options.cacertfile = /path/to/ca_certificate.pem
# ssl_options.certfile = /path/to/server_certificate.pem
# ssl_options.keyfile = /path/to/server_key.pem
# ssl_options.verify = verify_peer
# ssl_options.fail_if_no_peer_cert = true

# Enhanced Heartbeat and connection settings
heartbeat = 60
tcp_listen_options.backlog = 256
tcp_listen_options.nodelay = true
tcp_listen_options.keepalive = true
tcp_listen_options.exit_on_close = false
tcp_listen_options.send_timeout = 60000

# Connection recovery and network resilience
channel_max = 2000
frame_max = 131072
net_ticktime = 60

# Connection limits and timeouts
connection_max = 2000
handshake_timeout = 10000

# Enhanced connection management
vm_memory_high_watermark_paging_ratio = 0.5
vm_memory_high_watermark.relative = 0.6

# Network recovery settings
cluster_formation.peer_discovery_backend = classic_config
cluster_formation.classic_config.nodes.1 = rabbit@rabbitmq

# Additional stability settings
log.connection.level = info
log.channel.level = info
log.queue.level = info
log.exchange.level = info
